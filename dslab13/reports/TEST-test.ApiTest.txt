Testsuite: test.ApiTest
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 89,785 sec
------------- Standard Output ---------------
00_login_test.txt
12:43:34.587		client> !login alice 12345
!login alice 12345
12:43:34.637		client: !login success
12:43:35.090		client> !credits
!credits
12:43:35.118		client: !credits 200
12:43:35.590		client> !login bill 23456
!login bill 23456
12:43:35.597		client: !login wrong_credentials
12:43:36.091		proxy> !users
12:43:36.100		proxy:
12:43:36.100		1. bill            offline           200
12:43:36.100		2. alice           online            200
12:43:36.590		proxy> !exit
Proxy shuts down. No further clients are allowed.
Proxy shuts down. No further servers are allowed.
12:43:36.599		proxy: Shell closed
12:43:37.091		client> !exit
Proxy has gone offline
12:43:37.105		client: Shell closed
12:43:37.592		fs1> !exit
FileServer shuts down. No further downloads are allowed.
12:43:37.598		fs1: Shell closed
################################################################################
01_simpletest_sim_test.txt
12:43:44.137		client> !login alice 12345
!login alice 12345
12:43:44.149		client: !login success
12:43:44.636		client> !credits
!credits
12:43:44.647		client: !credits 200
12:43:45.136		client> !download short.txt
!download short.txt
!list
!info short.txt
!version short.txt
!download alice@127.0.0.1:13482/short.txt#alice_short.txt_8
12:43:45.373		client: !data dslab13
12:43:45.636		client> !credits
!credits
12:43:45.643		client: !credits 192
12:43:46.164		client> !upload upload.txt
!upload upload.txt 1 Bitte die Lehrveranstaltung im TISS bewerten. ;-)

!upload upload.txt 1 Bitte die Lehrveranstaltung im TISS bewerten. ;-)

12:43:46.211		client: successfully uploaded
12:43:46.692		client> !credits
!credits
12:43:46.786		client: !credits 292
12:43:47.165		client> !logout
!logout
12:43:47.170		client: Successfully logged out.
12:43:47.705		proxy> !exit
Proxy shuts down. No further servers are allowed.
Proxy shuts down. No further clients are allowed.
12:43:47.753		proxy: Shell closed
12:43:48.196		fs1> !exit
FileServer shuts down. No further downloads are allowed.
12:43:48.200		fs1: Shell closed
12:43:48.695		client> !exit
12:43:48.698		client: Shell closed
################################################################################
02_usecase_buy_credits_test.txt
12:43:57.258		proxy> !users
12:43:57.263		proxy:
12:43:57.263		1. alice           offline           200
12:43:57.263		2. bill            offline           200
12:43:57.757		client> !login alice 12345
!login alice 12345
12:43:57.766		client: !login success
12:43:58.257		client> !credits
!credits
12:43:58.266		client: !credits 200
12:43:58.758		client> !list
!list
!list
12:43:58.789		client:
12:43:58.789		short.txt
12:43:58.789		upload.txt
12:43:58.789		long.txt
12:43:59.257		client> !download short.txt
!download short.txt
!list
!info short.txt
!version short.txt
!download alice@127.0.0.1:13482/short.txt#alice_short.txt_8
12:43:59.343		client: !data dslab13
12:43:59.759		proxy> !users
12:43:59.764		proxy:
12:43:59.764		1. bill            offline           200
12:43:59.764		2. alice           online            192
12:44:00.259		client> !credits
!credits
12:44:00.267		client: !credits 192
12:44:00.774		client> !download long.txt
!download long.txt
!list
!info long.txt
12:44:00.802		client: Not enough credits available
12:44:01.273		client> !buy 1000
!buy 1000
12:44:01.315		client: !credits 1192
12:44:01.773		client> !download long.txt
!download long.txt
!list
!info long.txt
!version long.txt
!download alice@127.0.0.1:13483/long.txt#alice_long.txt_1000
12:44:01.907		client:
12:44:01.907		!data ###################################################################################################
12:44:01.907		###################################################################################################
12:44:01.907		###################################################################################################
12:44:01.907		###################################################################################################
12:44:01.907		###################################################################################################
12:44:01.907		###################################################################################################
12:44:01.907		###################################################################################################
12:44:01.907		###################################################################################################
12:44:01.907		###################################################################################################
12:44:01.907		###################################################################################################
12:44:02.275		proxy> !users
12:44:02.280		proxy:
12:44:02.280		1. bill            offline           200
12:44:02.280		2. alice           online            192
12:44:02.784		client> !credits
!credits
12:44:02.796		client: !credits 192
12:44:03.286		client> !ls
12:44:03.295		client:
12:44:03.295		java.lang.IllegalArgumentException: Command '!ls' not registered.
12:44:03.295			at cli.Shell.invoke(Shell.java:226)
12:44:03.295			at cli.Shell.run(Shell.java:71)
12:44:03.295			at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
12:44:03.295			at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
12:44:03.295			at java.lang.Thread.run(Thread.java:722)
12:44:03.788		client> !upload upload.txt
!upload upload.txt 1 Bitte die Lehrveranstaltung im TISS bewerten. ;-)

!upload upload.txt 1 Bitte die Lehrveranstaltung im TISS bewerten. ;-)

!upload upload.txt 1 Bitte die Lehrveranstaltung im TISS bewerten. ;-)

12:44:03.886		client: successfully uploaded
12:44:04.292		proxy> !users
12:44:04.301		proxy:
12:44:04.301		1. bill            offline           200
12:44:04.301		2. alice           online            292
12:44:04.801		client> !credits
!credits
12:44:04.815		client: !credits 292
12:44:05.303		proxy> !fileservers
12:44:05.393		proxy:
12:44:05.393		1. 127.0.0.1       13482 online              8
12:44:05.393		2. 127.0.0.1       13483 online           1000
12:44:05.808		client> !logout
!logout
12:44:05.827		client: Successfully logged out.
12:44:06.310		client> !exit
Client closed connection.
12:44:06.317		client: Shell closed
12:44:06.814		fs1> !exit
12:44:06.822		fs1: Shell closed
FileServer shuts down. No further downloads are allowed.
12:44:07.323		fs2> !exit
FileServer shuts down. No further downloads are allowed.
12:44:07.332		fs2: Shell closed
12:44:07.841		proxy> !exit
Proxy shuts down. No further servers are allowed.
12:44:07.850		proxy: Shell closed
Proxy shuts down. No further clients are allowed.
################################################################################
03_usecase_multiclient_test.txt
################################################################################
04_filenotfound_test.txt
12:44:14.395		client> !login alice 12345
!login alice 12345
12:44:14.408		client: !login success
12:44:14.894		client> !download notexistingfile.txt
!download notexistingfile.txt
!list
12:44:14.920		client: Invalid file name
12:44:15.395		proxy> !exit
Proxy shuts down. No further servers are allowed.
Proxy shuts down. No further clients are allowed.
12:44:15.402		proxy: Shell closed
12:44:15.894		client> !exit
Proxy has gone offline
12:44:15.901		client: Shell closed
12:44:16.395		fs1> !exit
12:44:16.399		fs1: Shell closed
FileServer shuts down. No further downloads are allowed.
################################################################################
05_fileserver_went_offline_test.txt
12:44:22.935		client> !login alice 12345
!login alice 12345
12:44:22.948		client: !login success
12:44:23.472		client> !credits
!credits
12:44:23.481		client: !credits 200
12:44:23.972		proxy> !users
12:44:23.975		proxy:
12:44:23.975		1. bill            offline           200
12:44:23.975		2. alice           online            200
12:44:24.474		client> !download short.txt
!download short.txt
!list
!info short.txt
!version short.txt
!download alice@127.0.0.1:13482/short.txt#alice_short.txt_8
12:44:24.539		client: !data dslab13
12:44:24.976		fs1> !exit
FileServer shuts down. No further downloads are allowed.
12:44:24.981		fs1: Shell closed
12:44:25.502		client> !download long.txt
!download long.txt
12:44:25.984		proxy> !exit
Proxy shuts down. No further servers are allowed.
Proxy shuts down. No further clients are allowed.
Proxy has gone offline
12:44:25.992		proxy: Shell closed
12:44:26.484		client> !exit
Cannot connect! Server has gone offline in meantime.
Proxy has gone offline
Proxy has gone offline
12:44:26.536		client: Shell closed
################################################################################
06_fss_inconsistant_test.txt
12:44:33.024		client> !login alice 12345
!login alice 12345
12:44:33.040		client: !login success
12:44:33.523		client> !download short.txt
!download short.txt
!list
!info short.txt
!version short.txt
!download alice@127.0.0.1:13482/short.txt#alice_short.txt_8
12:44:33.626		client: !data dslab13
12:44:34.024		client> !upload data.txt
12:44:34.027		client: Invalid file name
12:44:34.524		client> !credits
!credits
12:44:34.533		client: !credits 192
12:44:37.030		client> !download data.txt
!download data.txt
!list
12:44:37.051		client: Invalid file name
12:44:37.530		fs2> !exit
FileServer shuts down. No further downloads are allowed.
12:44:37.539		fs2: Shell closed
12:44:38.030		fs1> !exit
FileServer shuts down. No further downloads are allowed.
12:44:38.037		fs1: Shell closed
12:44:38.530		proxy> !exit
Proxy shuts down. No further clients are allowed.
12:44:38.539		proxy: Shell closed
Proxy shuts down. No further servers are allowed.
12:44:39.029		client> !exit
Proxy has gone offline
12:44:39.034		client: Shell closed
################################################################################
07_startup-PCF_shutdown-FPC_test.txt
12:44:45.568		client> !login bill 23456
!login bill 23456
12:44:45.579		client: !login success
12:44:46.068		client> !download short.txt
!download short.txt
!list
!info short.txt
!version short.txt
!download bill@127.0.0.1:13482/short.txt#bill_short.txt_8
12:44:46.142		client: !data dslab13
12:44:46.573		fs1> !exit
FileServer shuts down. No further downloads are allowed.
12:44:46.596		fs1: Shell closed
12:44:47.071		proxy> !exit
Proxy shuts down. No further servers are allowed.
Proxy shuts down. No further clients are allowed.
12:44:47.078		proxy: Shell closed
12:44:47.570		client> !exit
Proxy has gone offline
12:44:47.575		client: Shell closed
################################################################################
08_startup-FPC_shutdown-PCF_test.txt
12:44:54.111		client> !login bill 23456
!login bill 23456
12:44:54.123		client: !login success
12:44:54.610		client> !download short.txt
!download short.txt
!list
!info short.txt
!version short.txt
!download bill@127.0.0.1:13482/short.txt#bill_short.txt_8
12:44:54.679		client: !data dslab13
12:44:55.111		proxy> !exit
Proxy shuts down. No further servers are allowed.
Proxy shuts down. No further clients are allowed.
12:44:55.119		proxy: Shell closed
12:44:55.610		client> !exit
Proxy has gone offline
12:44:55.615		client: Shell closed
12:44:56.111		fs1> !exit
FileServer shuts down. No further downloads are allowed.
12:44:56.115		fs1: Shell closed
################################################################################
09_startup-CFP_shutdown-CFP_test.txt
No proxy available. Please press enter to exit.
12:44:57.633		client: Shell closed
------------- ---------------- ---------------

Testcase: test took 89,631 sec
	Caused an ERROR
sleep interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at test.ApiTest.test(ApiTest.java:87)

